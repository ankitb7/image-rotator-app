(this["webpackJsonpimage-rotator-app"]=this["webpackJsonpimage-rotator-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),r=a.n(i),c=a(4),o=a.n(c),s=(a(10),a(2)),h=function(e,t,a,n,i,r,c){var o=Math.round(e-t*c),s=t;return s=Math.round(o*i+s),o=Math.round(o-s*c),{x:Math.round(o+a),y:Math.round(s+n)}},d=function(e,t,a,n){return a>=0&&a<t&&n>=0&&n<e},l=function(e,t){for(var a=e.originalImageData,n=e.height,i=e.width,r=t*(Math.PI/180),c=Math.sin(r),o=Math.cos(r),s=Math.tan(r/2),l=function(e,t){return{centerHeight:Math.trunc(e/2),centerWidth:Math.trunc(t/2)}}(n,i),u=l.centerHeight,g=l.centerWidth,m=function(e,t,a,n){var i=Math.round(Math.abs(e*n)+Math.abs(t*a));return{newWidth:Math.round(Math.abs(t*n)+Math.abs(e*a)),newHeight:i}}(i,n,c,o),j=m.newHeight,b=m.newWidth,f=new Uint8ClampedArray(4*b*j),v=4*i,O=0,p=0;p<v*n;p+=4){var x=Math.round(p%v/4),w=h(x-g,O-u,g,u,c,0,s);if(w.x+=Math.round((b-i)/2),w.y+=Math.round((j-n)/2),d(j,b,w.x,w.y))for(var I=4*w.x+w.y*(4*b),M=0;M<4;M++)f[I+M]=a[p+M];p%v===0&&O++}return{newImageData:f,newWidth:b,newHeight:j}},u=(a(11),function(e){var t=e.image,a=e.rotatedImage,i=a||t;return Object(n.jsx)("div",{className:"image-frame",children:i||Object(n.jsx)("div",{className:"placeholder-text",children:"Please select an image"})})});u.defaultProps={image:null,rotatedImage:null};var g=u,m=function(e){var t=e.setAngle,a=Object(i.useState)(0),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(i.useEffect)((function(){return t(c)}),[t,c]),Object(n.jsx)("input",{type:"text",pattern:"([0-9]|[1-8][0-9]|9[0-9]|[12][0-9]{2}|3[0-5][0-9]|360)",placeholder:"Degrees",value:c,onInput:function(e){var t=e.target.validity.valid?window.Number(e.target.value):c;o(t)}})};m.defaultProps={setAngle:function(){}};var j=m,b=(a(12),function(e){var t=e.changeImage,a=e.image,r=e.rotatedImage,c=e.imageDimensions,o=e.renderTime,h=e.rotateImage,d=Object(i.useState)(0),l=Object(s.a)(d,2),u=l[0],g=l[1];return Object(n.jsxs)("div",{className:"action-panel",children:[Object(n.jsx)("div",{className:"panel-header",children:"Editor Panel"}),Object(n.jsx)("input",{className:"file-input",type:"file",accept:"image/*",onChange:t}),a&&Object(n.jsxs)("div",{className:"rotate-panel",children:[Object(n.jsx)("div",{className:"info",children:"Original Image Dimensions: ".concat(c.width,"px width x ").concat(c.height,"px height")}),r&&Object(n.jsx)("div",{className:"info",children:"Render Time: ".concat(null===o||void 0===o?void 0:o.toFixed(2),"ms")}),Object(n.jsxs)("p",{children:[Object(n.jsx)(j,{setAngle:g}),Object(n.jsx)("button",{onClick:function(){return h(u)},children:"Apply"})]})]})]})});b.defaultProps={changeImage:function(){},image:null,rotatedImage:null,imageDimensions:{width:0,height:0},renderTime:0,rotateImage:null};var f=b,v=(a(13),function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(i.useState)(null),o=Object(s.a)(c,2),h=o[0],d=o[1],u=Object(i.useState)(null),m=Object(s.a)(u,2),j=m[0],b=m[1],v=Object(i.useState)({width:0,height:0}),O=Object(s.a)(v,2),p=O[0],x=O[1],w=Object(i.useState)(0),I=Object(s.a)(w,2),M=I[0],D=I[1],N=function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,{canvas:t,context:a}},y=Object(i.useCallback)((function(e){var t=performance.now(),i=l({originalImageData:a,height:p.height,width:p.width},e),r=i.newImageData,c=i.newWidth,o=i.newHeight,s=new ImageData(Uint8ClampedArray.from(r),c,o),h=N(s),d=h.canvas;h.context.putImageData(s,0,0),(new Image).src=d.toDataURL(),b(Object(n.jsx)("img",{src:d.toDataURL(),alt:"Rotated Document"}));var u=performance.now();D(u-t)}),[a,p]);return Object(n.jsxs)("div",{className:"main-container",children:[Object(n.jsx)("header",{className:"page-header",children:"Image Rotator Application"}),Object(n.jsxs)("div",{className:"page-content",children:[Object(n.jsx)("div",{className:"sidebar-left",children:Object(n.jsx)(f,{changeImage:function(e){e.preventDefault();var t=new FileReader,a=e.target.files[0];b(null),t.onloadend=function(){t.result&&d(Object(n.jsx)("img",{src:t.result,alt:"Original Document"}));var e=new Image;e.onload=function(){x({width:this.width,height:this.height});var t=N(e).context;t.drawImage(e,0,0);var a=t.getImageData(0,0,e.width,e.height);r(a.data)},e.src=t.result},t.readAsDataURL(a)},image:h,imageDimensions:p,rotatedImage:j,renderTime:M,rotateImage:y})}),Object(n.jsx)("div",{className:"content-container",children:Object(n.jsx)(g,{image:h,rotatedImage:j})})]})]})});a(14);var O=function(){return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(v,{})})},p=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),p()}],[[15,1,2]]]);
//# sourceMappingURL=main.06e82f7f.chunk.js.map