(this["webpackJsonpimage-rotator-app"]=this["webpackJsonpimage-rotator-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),r=a.n(i),c=a(4),o=a.n(c),s=(a(10),a(2)),u=function(e,t,a,n,i,r){var c=e*r-t*i,o=e*i+t*r;return{x:Math.round(c+a),y:Math.round(o+n)}},l=function(e,t,a,n){return a>=0&&a<t&&n>=0&&n<e},d=function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,{canvas:t,context:a}},h=function(e,t,a,n){for(var i=Math.sin(n),r=Math.cos(n),c=function(e,t){return{centerHeight:Math.trunc(e/2),centerWidth:Math.trunc(t/2)}}(t,a),o=c.centerHeight,s=c.centerWidth,d=function(e,t,a,n){var i=Math.round(Math.abs(e*n)+Math.abs(t*a));return{newWidth:Math.round(Math.abs(t*n)+Math.abs(e*a)),newHeight:i}}(a,t,i,r),h=d.newHeight,g=d.newWidth,m=new Uint8ClampedArray(4*g*h),j=4*a,b=0,f=0;f<j*t;f+=4){var v=Math.round(f%j/4),O=u(v-s,b-o,s,o,i,r);if(O.x+=Math.round((g-a)/2),O.y+=Math.round((h-t)/2),l(h,g,O.x,O.y))for(var p=4*O.x+O.y*(4*g),x=0;x<4;x++)m[p+x]=e[f+x];f%j===0&&b++}return new ImageData(Uint8ClampedArray.from(m),g,h)},g=(a(11),function(e){var t=e.image,a=e.rotatedImage,i=a||t;return Object(n.jsx)("div",{className:"image-frame",children:i||Object(n.jsx)("div",{className:"placeholder-text",children:"Please select an image"})})});g.defaultProps={image:null,rotatedImage:null};var m=g,j=(a(12),function(e){var t=e.setImage,a=e.image,r=e.rotatedImage,c=e.imageDimensions,o=e.renderTime,u=e.rotateImage,l=Object(i.useState)(0),d=Object(s.a)(l,2),h=d[0],g=d[1];return Object(n.jsxs)("div",{className:"action-panel",children:[Object(n.jsx)("input",{className:"fileInput",type:"file",onChange:t}),a&&Object(n.jsxs)("div",{className:"rotate-panel",children:[Object(n.jsx)("div",{className:"info",children:"Original Image Dimensions: ".concat(c.width,"px width x ").concat(c.height,"px height")}),r&&Object(n.jsx)("div",{className:"info",children:"Render Time: ".concat(null===o||void 0===o?void 0:o.toFixed(2),"ms")}),Object(n.jsxs)("p",{children:[Object(n.jsx)("input",{type:"text",placeholder:"Degrees",onChange:function(e){if(e.target.value||0===e.target.value){var t=window.Number(e.target.value);g(t)}}}),Object(n.jsx)("button",{onClick:function(){return u(h)},children:"Apply"})]})]})]})});j.defaultProps={setImage:function(){},image:null,rotatedImage:null,imageDimensions:{width:0,height:0},renderTime:0,rotateImage:null};var b=j,f=(a(13),function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(i.useState)(null),o=Object(s.a)(c,2),u=o[0],l=o[1],g=Object(i.useState)(null),j=Object(s.a)(g,2),f=j[0],v=j[1],O=Object(i.useState)({width:0,height:0}),p=Object(s.a)(O,2),x=p[0],w=p[1],I=Object(i.useState)(0),M=Object(s.a)(I,2),D=M[0],y=M[1],C=Object(i.useCallback)((function(e){var t=performance.now(),i=e*(Math.PI/180),r=h(a,x.height,x.width,i);console.log("rotatedImageData",r);var c=d(r),o=c.canvas;c.context.putImageData(r,0,0),(new Image).src=o.toDataURL(),v(Object(n.jsx)("img",{src:o.toDataURL(),alt:"Rotated Document"}));var s=performance.now();y(s-t)}),[a,x]);return Object(n.jsxs)("div",{className:"image-editor",children:[Object(n.jsx)(m,{image:u,rotatedImage:f}),Object(n.jsx)(b,{setImage:function(e){e.preventDefault();var t=new FileReader,a=e.target.files[0];v(null),t.onloadend=function(){t.result&&l(Object(n.jsx)("img",{src:t.result,alt:"Original Document"}));var e=new Image;e.onload=function(){w({width:this.width,height:this.height});var t=d(e).context;t.drawImage(e,0,0);var a=t.getImageData(0,0,e.width,e.height);r(a.data)},e.src=t.result},t.readAsDataURL(a)},image:u,imageDimensions:x,rotatedImage:f,renderTime:D,rotateImage:C})]})});a(14);var v=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(f,{})})},O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root")),O()}],[[15,1,2]]]);
//# sourceMappingURL=main.b2edff58.chunk.js.map